<html>
<body>
<center> 
<body>
<div id="container">
<video width="200" height="200" autoplay="true" id="video">
</video>
</div>
<button onclick="capture()">Capture</button>  <br> </br>
<canvas id="canvas" style="overflow:auto"></canvas>
<br></br>
<!-- <p> Image Converted to String: </p>
<p id="printresult"></p> -->

<form action="/" method="POST"><div style="display: none;">
  Username: <input type="text" id="img64capture" name="Username" value=""></div>
  <input type="submit" value="Submit">
</form>

</center>
<script>
var video = document.querySelector("#video");
if (navigator.mediaDevices.getUserMedia) {
  navigator.mediaDevices.getUserMedia({ video: true })
    .then(function (stream) {
      video.srcObject = stream;
    })
    .catch(function (err0r) {
      console.log("Something went wrong!");
    });
}

function capture() {
  var canvas = document.getElementById('canvas');     
  var video = document.getElementById('video');

  canvas.width = 200;
  canvas.height = 200;
  canvas.getContext('2d').drawImage(video, 0, 0, 200,200);  

  document.getElementById("img64capture").value = canvas.toDataURL();
  //document.getElementById("printresult").innerHTML = canvas.toDataURL();
}
</script>
</body>
</html>